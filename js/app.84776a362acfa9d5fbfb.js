/*! For license information please see app.84776a362acfa9d5fbfb.js.LICENSE.txt */
(()=>{"use strict";var e,t,n,r={21886:(e,t,n)=>{var r=n(91519),o=n(40052);o.languages.register({id:"heta"}),o.languages.setMonarchTokensProvider("heta",{defaultToken:"invalid",keywords:["include","type","with","namespace","begin","end","true","false","Inf","NaN"],brackets:[{token:"delimiter.bracket",open:"{",close:"}"},{token:"delimiter.square",open:"[",close:"]"},{token:"comment",open:"/*",close:"*/"}],ws:/[ \t\r\n]/,numberInteger:/(?:0|[+-]?[0-9]+)/,numberFloat:/(?:0|[+-]?[0-9]+)(?:\.[0-9]+)?(?:[eE][-+][1-9][0-9]*)?/,numberInfinity:/[+-]?Infinity/,numberNaN:/NaN/,mathSymbols:/[\w\s*\+\-\*\/\^\(\)\.\>\<\=\!\?\,]/,escapes:/\\(?:[btnfr\\"']|[0-7][0-7]?|[0-3][0-7]{2})/,idProp:/[a-zA-Z]+\w*/,actionProp:/#[a-zA-Z]+\w*/,classProp:/\@[a-zA-Z]+\w*/,filepathFormat:/[\w\/\\\.\-]+/,tokenizer:{root:[{include:"@comment"},{include:"@multilineCommentStart"},{include:"@whitespace"},[/(?=include )/,"keyword","@includeStatement"],[/namespace /,"keyword","@namespaceBlock"],[/block /,"keyword","@defaultBlock"],{include:"@actionStatement"}],includeStatement:[{include:"@whitespace"},{include:"@multilineCommentStart"},[/(include )(@filepathFormat?)/,["keyword","string"]],[/(type )(\w*)/,["keyword","string"]],[/with /,"keyword","@withContent"],["","invalid","@pop"]],withContent:[[/{/,"bracket","@object"],["","invalid","@pop"]],namespaceBlock:[[/begin/,"keyword","@block"],[/@idProp/,"string"]],defaultBlock:[[/begin/,"keyword","@block"],[/{/,"bracket","@object"]],block:[[/end(?!\w)/,"keyword","@popall"],{include:"@comment"},{include:"@multilineCommentStart"},{include:"@whitespace"},{include:"@actionStatement"}],actionStatement:[{include:"@whitespace"},["(?!^$)","string","@statementComponents"]],statementComponents:[{include:"@whitespace"},{include:"@comment"},{include:"@multilineCommentStart"},[/\'{3}/,"comment","@notes"],[/\'/,"string","@title"],[/@classProp/,"keyword"],[/@actionProp/,"keyword"],[/(?![.:\]])(=@ws*)(@numberFloat|@numberInteger|@numberInfinity|@numberNaN)/,["operator","number.float"]],[/[.:]=@ws*/,"operator","@mathExpr"],[/\[@idProp?\]=@ws*/,"operator","@mathExpr"],[/@idProp::@idProp/,"identifier"],[/@idProp::\*/,"identifier"],[/@idProp/,"identifier"],[/\{/,"bracket","@object"],[/\;/,"delimiter","@pop"]],object:[{include:"@whitespace"},{include:"@comment"},{include:"@multilineCommentStart"},[/[\}]/,"bracket","@pop"],[/,/,"delimiter.comma"],[/:(?= )/,"operators"],[/(?:".*?"|'.*?'|[^,\{\[]+?)(?=: )/,"type"],{include:"@flowCollections"},{include:"@flowScalars"},{include:"@flowNumber"},[/[^\},]+/,{cases:{"@default":"string"}}]],array:[{include:"@whitespace"},{include:"@comment"},{include:"@multilineCommentStart"},[/\]/,"@brackets","@pop"],[/,/,"delimiter.comma"],{include:"@flowCollections"},{include:"@flowScalars"},{include:"@flowNumber"},[/[^\],]+/,{cases:{"@keywords":"keyword","@default":"string"}}]],multiString:[[/^( +).+$/,"string","@multiStringContinued.$1"]],multiStringContinued:[[/^( *).+$/,{cases:{"$1==$S2":"string","@default":{token:"@rematch",next:"@popall"}}}]],whitespace:[[/[ \t\r\n]+/,"white"]],comment:[[/\/\/.*$/,"comment"]],multilineCommentStart:[[/\/\*/,{token:"comment",bracket:"@open",next:"@multilineComment"}]],multilineComment:[[/[^\/*]+/,"comment"],[/\*\//,{token:"comment",bracket:"@close",next:"@pop"}],[/[\/*]/,"comment"]],mathExpr:[[/@mathSymbols+/,"string"],["^$","string"],["","string","@pop"]],flowCollections:[[/\[/,"@brackets","@array"],[/\{/,"@brackets","@object"]],flowScalars:[[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/'[^']*'/,"string"],[/"/,"string","@doubleQuotedString"]],doubleQuotedString:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],title:[[/[^']+/,"string"],[/'/,"string","@pop"]],notes:[[/[^']+/,"comment"],[/'{3}/,"comment","@pop"],[/'/,"comment"]],flowNumber:[[/@numberInteger(?=[ \t]*[,\]\}])/,"number"],[/@numberFloat(?=[ \t]*[,\]\}])/,"number.float"],[/@numberInfinity(?=[ \t]*[,\]\}])/,"number.infinity"],[/@numberNaN(?=[ \t]*[,\]\}])/,"number.nan"]]}}),o.languages.register({id:"console"}),o.languages.setMonarchTokensProvider("console",{defaultToken:"text",tokenizer:{root:[[/\[info\]/,"custom-info"],[/\[warn\]/,"custom-warn"],[/\[error\]/,"custom-error"]]}}),o.editor.defineTheme("myCoolTheme",{base:"vs",inherit:!0,colors:{},rules:[{token:"custom-info",foreground:"000099"},{token:"custom-warn",foreground:"FFA500"},{token:"custom-error",foreground:"ff0000"}]}),o.editor.setTheme("myCoolTheme"),o.editor.addEditorAction({id:"save-file",label:"Save as file",keybindings:[o.KeyMod.chord(o.KeyMod.CtrlCmd|o.KeyCode.KeyS)],precondition:null,keybindingContext:null,contextMenuGroupId:"navigation",contextMenuOrder:1.5,run:function(e){var t=e.getValue(),n=new Blob([t]),r=window.URL.createObjectURL(n),o=document.createElement("a");o.style.display="none",o.href=r,o.download=e._page.name,o.click()}});var i=n(8563);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function u(){return u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(arguments.length<3?e:n):o.value}},u.apply(this,arguments)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function s(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=p(e);if(t){var o=p(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return f(e)}(this,n)}}function f(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}function d(){d=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},u=i.iterator||"@@iterator",l=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,a=Object.create(i.prototype),u=new _(r||[]);return o(a,"_invoke",{value:P(e,n,u)}),a}function p(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var h="suspendedStart",m="suspendedYield",y="executing",v="completed",g={};function b(){}function w(){}function x(){}var k={};s(k,u,(function(){return this}));var S=Object.getPrototypeOf,E=S&&S(S(C([])));E&&E!==n&&r.call(E,u)&&(k=E);var O=x.prototype=b.prototype=Object.create(k);function L(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function j(e,t){function n(o,i,u,l){var c=p(e[o],e,i);if("throw"!==c.type){var s=c.arg,f=s.value;return f&&"object"==a(f)&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,u,l)}),(function(e){n("throw",e,u,l)})):t.resolve(f).then((function(e){s.value=e,u(s)}),(function(e){return n("throw",e,u,l)}))}l(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=h;return function(i,a){if(o===y)throw new Error("Generator is already running");if(o===v){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=N(u,r);if(l){if(l===g)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===h)throw o=v,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var c=p(t,n,r);if("normal"===c.type){if(o=r.done?v:m,c.arg===g)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=v,r.method="throw",r.arg=c.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var i=p(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,g;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function U(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[u];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(a(t)+" is not iterable")}return w.prototype=x,o(O,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=s(x,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,x):(e.__proto__=x,s(e,c,"GeneratorFunction")),e.prototype=Object.create(O),e},t.awrap=function(e){return{__await:e}},L(j.prototype),s(j.prototype,l,(function(){return this})),t.AsyncIterator=j,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new j(f(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},L(O),s(O,c,"Generator"),s(O,u,(function(){return this})),s(O,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(U),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),U(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;U(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function h(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function m(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){h(i,r,o,a,u,"next",e)}function u(e){h(i,r,o,a,u,"throw",e)}a(void 0)}))}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===a(i)?i:String(i)),r)}var o,i}function g(e,t,n){return t&&v(e.prototype,t),n&&v(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var b={json:{extension:".json",language:"json",type:"application/json"},heta:{extension:".heta",language:"heta"},type:"text/plain",csv:{extension:".csv",language:"plaintext",type:"text/csv"},yaml:{extension:".yml",language:"yaml",type:"application/yaml"},sbml:{extension:".xml",language:"xml",type:"application/sbml+xml"},xlsx:{extension:".xlsx",pageType:"info",type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"},slv:{extension:".slv",pageType:"info",type:"application/octet-stream"},txt:{extension:".txt",language:"plaintext",type:"text/plain"},markdown:{extension:".md",language:"markdown",type:"text/markdown"},mrgsolve:{extension:".c",language:"c",type:"text/plain"},julia:{extension:".jl",language:"julia",type:"text/plain"},matlab:{extension:".m",language:"plaintext",type:"text/plain"},simbio:{extension:".m",language:"plaintext",type:"text/plain"},dbsolve:{extension:".slv",language:"plaintext",type:"application/octet-stream"},cpp:{extension:".cpp",language:"cpp",type:"text/plain"},r:{extension:".r",language:"r",type:"text/plain"},c:{extension:".c",language:"c",type:"text/plain"},html:{extension:".html",language:"html",type:"text/html"},log:{extension:".log",language:"plaintext",type:"text/plain"}},w=function(){function e(t){y(this,e),this.panel=t,this.pagesStorage=new Map,this.defaultPageName=void 0}var t,n;return g(e,[{key:"addPageFromFile",value:(n=m(d().mark((function e(t){var n,o,i,a,u;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.extname(t.name),o=Object.getOwnPropertyNames(b).find((function(e){return b[e].extension===n}))){e.next=5;break}return window.alert("Unsupported file extension: ".concat(n)),e.abrupt("return");case 5:if(i=b[o],a=this.checkPageName(t.name,i.extension)){e.next=9;break}return e.abrupt("return");case 9:return u="info"===i.pageType?new E(a,!0,!1,i.type).addTo(this):new k(a,{language:i.language},!0,!1,i.type).addTo(this),e.next=12,u.fromFile(t);case 12:return e.abrupt("return",u);case 13:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"addPageFromArrayBuffer",value:(t=m(d().mark((function e(t,n){var o,i,a,u,l,c,s,f=arguments;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=!(f.length>2&&void 0!==f[2])||f[2],i=!(f.length>3&&void 0!==f[3])||f[3],a=f.length>4&&void 0!==f[4]&&f[4],u=r.extname(n),l=Object.getOwnPropertyNames(b).find((function(e){return b[e].extension===u}))){e.next=8;break}return window.alert("Unsupported file extension: ".concat(u)),e.abrupt("return");case 8:return(s="info"===(c=b[l]).pageType?new E(n,i,a,c.type).addTo(this):new k(n,{language:c.language,readOnly:o},i,a,c.type).addTo(this)).fromArrayBuffer(t),e.abrupt("return",s);case 12:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"defaultPage",get:function(){return this.pagesStorage.get(this.defaultPageName)}},{key:"checkPageName",value:function(e,t){for(var n=e,o="File name";null!==(n=window.prompt(o,n));)if(this.pagesStorage.has(n))o='"'.concat(n,'" already exist. Choose another name.');else{if(r.extname(n)===t)break;o='"'.concat(n,'" has wrong extension "').concat(r.extname(n),'".')}return n}},{key:"hideEditors",value:function(){i(this.panel).find(".hetaModuleBtn").removeClass("w3-bottombar w3-border-green"),i(this.panel).find(".hetaModuleContainer").css("display","none")}}]),e}(),x=function(){function e(t){var n=this,r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/octet-stream";y(this,e),this.id=t,this.name=t.split("/").pop(),this.rightSide=o,this.deleteBtn=r,this.type=a,this.editorContainer=i('<div class="hetaModuleContainer" style="height:100%;"></div>')[0],this.navigationButton=i('<a href="#" class="hetaModuleBtn w3-button w3-small"><span class="hetaModuleName">'.concat(t,"</span></a>"))[0],o&&i(this.navigationButton).addClass("w3-right"),i(this.navigationButton).on("click",(function(){return n.show()})),r&&i('<span class="hetaModuleCloseBtn">&nbsp; &times;</span>').appendTo(this.navigationButton).on("click",(function(){window.confirm('"'.concat(n.id,'" file will be deleted.\nAre you sure?'))&&n.delete()}))}var t;return g(e,[{key:"show",value:function(){var e;this._parent.hideEditors(),i(this.navigationButton).addClass("w3-bottombar w3-border-green"),i(this.editorContainer).css("display","block"),null===(e=this.monacoEditor)||void 0===e||e.layout()}},{key:"delete",value:function(){var e;window.localStorage.removeItem(this.id),i(this.navigationButton).remove(),i(this.editorContainer).remove(),this._parent.pagesStorage.delete(this.id),null===(e=this._parent.defaultPage)||void 0===e||e.show()}},{key:"addTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._parent=e,t&&(e.defaultPageName=this.id),i(e.panel).find(".codeContainer").append(i(this.editorContainer)),i(e.panel).find(".codeNavigation").append(i(this.navigationButton)),e.pagesStorage.set(this.id,this),this.show(),this}},{key:"toUint8String",value:(t=m(d().mark((function e(){var t;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getArrayBuffer();case 2:return t=e.sent,e.abrupt("return",new Uint8Array(t).toString());case 4:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})}]),e}(),k=function(e){l(r,e);var t,n=s(r);function r(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],u=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"application/octet-stream";y(this,r),t=n.call(this,e,a,u,l);var c=Object.assign({},{readOnly:!1,minimap:{enabled:!1}},i);return t.monacoEditor=o.editor.create(t.editorContainer,c),t.monacoEditor._page=f(t),t}return g(r,[{key:"delete",value:function(){this.monacoEditor.dispose(),u(p(r.prototype),"delete",this).call(this)}},{key:"addTo",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return u(p(r.prototype),"addTo",this).call(this,e,t),this.monacoEditor.layout(),this}},{key:"fromArrayBuffer",value:function(e){var t=new TextDecoder("utf-8").decode(e);return this.monacoEditor.setValue(t),this}},{key:"fromFile",value:(t=m(d().mark((function e(t){var n;return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.text();case 2:return n=e.sent,this.type=t.type,this.monacoEditor.setValue(n),e.abrupt("return",this);case 6:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"getFile",value:function(){var e=this.monacoEditor.getValue();return new File([e],this.id,{type:this.type})}},{key:"getArrayBuffer",value:function(){var e=this.monacoEditor.getValue();return(new TextEncoder).encode(e).buffer}}]),r}(x),S=function(e){l(n,e);var t=s(n);function n(e){return y(this,n),t.call(this,e,{language:"console",readOnly:!0},!1,!0,"text/plain")}return g(n,[{key:"appendText",value:function(e){var t=this.monacoEditor.getValue();this.monacoEditor.setValue(t+e)}}]),n}(k),E=function(e){l(r,e);var t,n=s(r);function r(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],o=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"application/octet-stream";return y(this,r),n.call(this,e,t,o,i)}return g(r,[{key:"fromArrayBuffer",value:function(e){var t=new File([e],this.id,{type:this.type});return this.fromFile(t),this}},{key:"fromFile",value:function(e){this._sourceFile=e,this.type=e.type;var t=window.URL.createObjectURL(e),n='<div class="w3-container">\n      <h3>Source file info:</h3>\n      <p>name: <i>'.concat(e.name,"</i></p>\n      <p>type: <i>").concat(e.type,"</i></p>\n      <p>lastModifiedDate: <i>").concat(e.lastModifiedDate,"</i></p>\n      <p>size: <i>").concat(Math.round(e.size/1024),' Kb</i></p>\n      <p><a href="').concat(t,'" download="').concat(this.name,'">DOWNLOAD</a></p>\n    </div>');return i(n).appendTo(this.editorContainer),this}},{key:"getArrayBuffer",value:(t=m(d().mark((function e(){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._sourceFile.arrayBuffer();case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getFile",value:function(){return this._sourceFile}}]),r}(x);function O(e){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O(e)}function L(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=N(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function j(){j=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),u=new _(r||[]);return o(a,"_invoke",{value:P(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(C([])));k&&k!==n&&r.call(k,a)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(o,i,a,u){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==O(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function P(t,n,r){var o=p;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=N(u,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function N(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,N(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function U(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function C(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(O(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(L.prototype),c(L.prototype,u,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new L(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=C,_.prototype={constructor:_,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(U),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),U(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;U(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:C(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function P(e){return function(e){if(Array.isArray(e))return T(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||N(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function N(e,t){if(e){if("string"==typeof e)return T(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?T(e,t):void 0}}function T(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function U(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function _(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){U(i,r,o,a,u,"next",e)}function u(e){U(i,r,o,a,u,"throw",e)}a(void 0)}))}}function C(e){var t=document.querySelector("body"),n=document.querySelector("#modalDnD");this.dragenter=function(e){e.stopPropagation(),e.preventDefault(),n.style.display="block"},this.dragover=function(e){e.stopPropagation(),e.preventDefault()},this.dragleave=function(e){e.stopPropagation(),e.preventDefault(),n.style.display="none"},this.drop=function(){var t=_(j().mark((function t(r){var o,i;return j().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r.stopPropagation(),r.preventDefault(),n.style.display="none",o=[],r.dataTransfer.items,i=P(r.dataTransfer.items).map((function(e){return A(e.webkitGetAsEntry(),o)})),t.next=8,Promise.all(i);case 8:e(o);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),t.addEventListener("dragenter",this.dragenter,!1),t.addEventListener("dragover",this.dragover,!1),n.addEventListener("dragleave",this.dragleave,!1),t.addEventListener("drop",this.drop,!1)}function A(e){return F.apply(this,arguments)}function F(){return F=_(j().mark((function e(t){var n,r,o,i,a,u,l,c=arguments;return j().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=c.length>1&&void 0!==c[1]?c[1]:[],!t.isFile){e.next=8;break}return e.next=4,new Promise((function(e,n){return t.file(e,n)}));case 4:r=e.sent,n.push(r),e.next=32;break;case 8:if(!t.isDirectory){e.next=32;break}return o=t.createReader(),i=new Promise((function(e,t){return o.readEntries(e,t)})),e.t0=L,e.next=14,i;case 14:e.t1=e.sent,a=(0,e.t0)(e.t1),e.prev=16,a.s();case 18:if((u=a.n()).done){e.next=24;break}return l=u.value,e.next=22,A(l,n);case 22:e.next=18;break;case 24:e.next=29;break;case 26:e.prev=26,e.t2=e.catch(16),a.e(e.t2);case 29:return e.prev=29,a.f(),e.finish(29);case 32:case"end":return e.stop()}}),e,null,[[16,26,29,32]])}))),F.apply(this,arguments)}const B="/*\n    template file for creating platform\n*/\n// add qsp units\n//include ./qsp-units.heta\n\n// include module.heta type heta\n// include table.xlsx type table with { sheet: 0, omitRows: 3 }\n// include addon.json type json\n// include addon.yml type yaml\n\np1 @Record .= 1;\n\n// exports\n#export { format: JSON, filepath: output };\n//#export { format: YAML, filepath: output };\n//#export { format: XLSX, filepath: table, omitRows: 3, splitByClass: true };\n//#export { format: SBML, filepath: sbml, version: L2V4 };\n//#export { format: SLV, filepath: model, eventsOff: false };\n#export { format: DBSolve, filepath: dbsolve };\n//#export { format: Simbio, filepath: simbio };\n//#export { format: Mrgsolve, filepath: mrgsolve };\n//#export { format: Matlab, filepath: matlab };\n#export { format: Julia, filepath: julia };\n";var I=n(12883),M=n(8563);function G(e){return G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G(e)}function D(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,a,u=[],l=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=i.call(n)).done)&&(u.push(r.value),u.length!==t);l=!0);}catch(e){c=!0,o=e}finally{try{if(!l&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return u}}(e,t)||V(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=V(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){u=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw i}}}}function V(e,t){if(e){if("string"==typeof e)return $(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?$(e,t):void 0}}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(){H=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",u=i.asyncIterator||"@@asyncIterator",l=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var i=t&&t.prototype instanceof v?t:v,a=Object.create(i.prototype),u=new T(r||[]);return o(a,"_invoke",{value:L(e,n,u)}),a}function f(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=s;var p="suspendedStart",d="suspendedYield",h="executing",m="completed",y={};function v(){}function g(){}function b(){}var w={};c(w,a,(function(){return this}));var x=Object.getPrototypeOf,k=x&&x(x(U([])));k&&k!==n&&r.call(k,a)&&(w=k);var S=b.prototype=v.prototype=Object.create(w);function E(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function O(e,t){function n(o,i,a,u){var l=f(e[o],e,i);if("throw"!==l.type){var c=l.arg,s=c.value;return s&&"object"==G(s)&&r.call(s,"__await")?t.resolve(s.__await).then((function(e){n("next",e,a,u)}),(function(e){n("throw",e,a,u)})):t.resolve(s).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,u)}))}u(l.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,a){if(o===h)throw new Error("Generator is already running");if(o===m){if("throw"===i)throw a;return{value:e,done:!0}}for(r.method=i,r.arg=a;;){var u=r.delegate;if(u){var l=j(u,r);if(l){if(l===y)continue;return l}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=h;var c=f(t,n,r);if("normal"===c.type){if(o=r.done?m:d,c.arg===y)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(o=m,r.method="throw",r.arg=c.arg)}}}function j(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,j(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),y;var i=f(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,y;var a=i.arg;return a?a.done?(n[t.resultName]=a.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,y):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,y)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function U(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(G(t)+" is not iterable")}return g.prototype=b,o(S,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:g,configurable:!0}),g.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(S),e},t.awrap=function(e){return{__await:e}},E(O.prototype),c(O.prototype,u,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var a=new O(s(e,n,r,o),i);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(S),c(S,l,"Generator"),c(S,a,(function(){return this})),c(S,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=U,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return u.type="throw",u.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],u=a.completion;if("root"===a.tryLoc)return o("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return o(a.catchLoc,!0);if(this.prev<a.finallyLoc)return o(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return o(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return o(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,y):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),y}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:U(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),y}},t}function q(e,t,n,r,o,i,a){try{var u=e[i](a),l=u.value}catch(e){return void n(e)}u.done?t(l):Promise.resolve(l).then(r,o)}function z(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){q(i,r,o,a,u,"next",e)}function u(e){q(i,r,o,a,u,"throw",e)}a(void 0)}))}}var Y={json:{extension:".json",language:"json",defaultValue:"[\n\n]\n",type:"application/json"},heta:{extension:".heta",language:"heta",defaultValue:"/*\n    Another Heta module\n*/\n",type:"text/plain"},csv:{extension:".csv",language:"plaintext",defaultValue:'id class num notes\nk1 Const 1.2 "some parameter"\n',type:"text/csv"},yaml:{extension:".yml",language:"yaml",defaultValue:"\n",type:"application/yaml"},sbml:{extension:".xml",language:"xml",defaultValue:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<sbml \n  xmlns="http://www.sbml.org/sbml/level2/version4" \n  xmlns:xhtml="http://www.w3.org/1999/xhtml" \n  level="2" version="4"\n  >\n  <model>\n\n  </model>\n</sbml>\n',type:"application/sbml+xml"},indexHeta:{extension:".heta",language:"heta",defaultValue:B,defaultName:"index.heta",type:"text/plain"},qspUnitsHeta:{extension:".heta",language:"heta",defaultValue:"fmole #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-15 } ]\n};\npmole #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-12 } ]\n};\nnmole #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-9 } ]\n};\numole #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-6 } ]\n};\nmmole #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-3 } ]\n};\nfM #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-15 }, { kind: litre, exponent: -1} ]\n};\n\npM #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-12 }, { kind: litre, exponent: -1} ]\n};\nnM #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-9 }, { kind: litre, exponent: -1} ]\n};\nuM #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-6 }, { kind: litre, exponent: -1} ]\n};\nmM #defineUnit {\n    units: [ { kind: mole, multiplier: 1e-3 }, { kind: litre, exponent: -1} ]\n};\nM #defineUnit {\n    units: [ { kind: mole }, { kind: litre, exponent: -1} ]\n};\nkM #defineUnit {\n    units: [ { kind: mole, multiplier: 1e3 }, { kind: litre, exponent: -1 } ]\n};\n\nfL #defineUnit {\n    units: [ { kind: litre, multiplier: 1e-15 } ]\n};\npL #defineUnit {\n    units: [ { kind: litre, multiplier: 1e-12 } ]\n};\nnL #defineUnit {\n    units: [ { kind: litre, multiplier: 1e-9 } ]\n};\nuL #defineUnit {\n    units: [ { kind: litre, multiplier: 1e-6 } ]\n};\nmL #defineUnit {\n    units: [ { kind: litre, multiplier: 1e-3 } ]\n};\ndL #defineUnit {\n    units: [ { kind: litre, multiplier: 1e-1 } ]\n};\nL #defineUnit {\n    units: [ { kind: litre } ]\n};\n\nfs #defineUnit {\n    units: [ { kind: second, multiplier: 1e-15 } ]\n};\nps #defineUnit {\n    units: [ { kind: second, multiplier: 1e-12 } ]\n};\nns #defineUnit {\n    units: [ { kind: second, multiplier: 1e-9 } ]\n};\nus #defineUnit {\n    units: [ { kind: second, multiplier: 1e-6 } ]\n};\nms #defineUnit {\n    units: [ { kind: second, multiplier: 1e-3 } ]\n};\ns #defineUnit {\n    units: [ { kind: second } ]\n};\nh #defineUnit {\n    units: [ { kind: hour, multiplier: 1 } ]\n};\nweek #defineUnit {\n    units: [ { kind: day, multiplier: 7 } ]\n};\n\nfg #defineUnit {\n    units: [ { kind: kilogram, multiplier: 1e-18 } ]\n};\npg #defineUnit {\n    units: [ { kind: kilogram, multiplier: 1e-15 } ]\n};\nng #defineUnit {\n    units: [ { kind: kilogram, multiplier: 1e-12 } ]\n};\nug #defineUnit {\n    units: [ { kind: kilogram, multiplier: 1e-9 } ]\n};\nmg #defineUnit {\n    units: [ { kind: kilogram, multiplier: 1e-6 } ]\n};\ng #defineUnit {\n    units: [ { kind: kilogram, multiplier: 1e-3 } ]\n};\nkg #defineUnit {\n    units: [ { kind: kilogram } ]\n};\n\nkat #defineUnit {\n    units: [ { kind: katal } ]\n};\n\ncell #defineUnit {\n    units: [ { kind: item } ]\n};\nkcell #defineUnit {\n    units: [ { kind: item, multiplier: 1e3 } ]\n};\n\ncal #defineUnit {\n    units: [ { kind: joule, multiplier: 4.1868 } ]\n};\nkcal #defineUnit {\n    units: [ { kind: joule, multiplier: 4.1868e3 } ]\n};\n\nfm #defineUnit {\n    units: [ { kind: metre, multiplier: 1e-15 } ]\n};\npm #defineUnit {\n    units: [ { kind: metre, multiplier: 1e-12 } ]\n};\nnm #defineUnit {\n    units: [ { kind: metre, multiplier: 1e-9 } ]\n};\num #defineUnit {\n    units: [ { kind: metre, multiplier: 1e-6 } ]\n};\nmm #defineUnit {\n    units: [ { kind: metre, multiplier: 1e-13 } ]\n};\ncm #defineUnit {\n    units: [ { kind: metre, multiplier: 1e-2 } ]\n};\nm #defineUnit {\n    units: [ { kind: metre } ]\n};\n\nUL #defineUnit {\n    units: [ { kind: dimensionless } ]\n};\npercent #defineUnit {\n    units: [ { kind: dimensionless, multiplier: 1e-2 } ]\n};\n",defaultName:"qsp-units.heta",type:"text/plain"}};M(window).on("resize",X);var J=new w("#leftPanel"),K=new w("#rightPanel");function Z(){return Q.apply(this,arguments)}function Q(){return(Q=z(H().mark((function e(){var t,n,r,o,i,a,u,l,c,s,f,p,d,h;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],n=R(J.pagesStorage.values()),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=13;break}return i=r.value,e.next=8,i.toUint8String();case 8:a=e.sent,u=null===(o=i.monacoEditor)||void 0===o?void 0:o.getRawOptions(),t.push({filepath:i.id,uint8:a,readOnly:null==u?void 0:u.readOnly,rightSide:i.rightSide,deleteBtn:i.deleteBtn});case 11:e.next=4;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:window.localStorage.setItem("leftCollectionArray",JSON.stringify(t)),l=[],c=R(K.pagesStorage.values()),e.prev=24,c.s();case 26:if((s=c.n()).done){e.next=35;break}return p=s.value,e.next=30,p.toUint8String();case 30:d=e.sent,h=null===(f=p.monacoEditor)||void 0===f?void 0:f.getRawOptions(),l.push({filepath:p.id,uint8:d,readOnly:null==h?void 0:h.readOnly,rightSide:p.rightSide,deleteBtn:p.deleteBtn});case 33:e.next=26;break;case 35:e.next=40;break;case 37:e.prev=37,e.t1=e.catch(24),c.e(e.t1);case 40:return e.prev=40,c.f(),e.finish(40);case 43:window.localStorage.setItem("rightCollectionArray",JSON.stringify(l));case 44:case"end":return e.stop()}}),e,null,[[2,15,18,21],[24,37,40,43]])})))).apply(this,arguments)}function W(){new k("platform.json",{value:'{\n  "$schema": "https://github.com/hetalang/heta-compiler#",\n  "id": "template",\n  "notes": "platform notes",\n  "version": "v0.1.0",\n  "keywords": [],\n  "license": "UNLICENSED",\n  "contributors": [],\n  "builderVersion": "^0.6.19",\n  "options": {\n    "debug": false,\n    "logs": "output.log",\n    "logLevel": "info",\n    "skipExport": false,\n    "unitsCheck": false\n  },\n  "importModule": {\n    "type": "heta",\n    "source": "index.heta"\n  }\n}\n',language:"json"},!1,!0).addTo(J,!0),new k("index.heta",{value:B,language:"heta"},!0,!1).addTo(J,!1),new S("CONSOLE").addTo(K,!0).appendText('$ heta init -s\nCreating a template platform in directory: "/"...\nPlatform template is created in silent mode.\nDONE.\n\n$ ')}function X(){var e=document.documentElement.clientHeight-M("#topDiv").outerHeight();M("#mainDiv").height(e+"px");var t=M("#mainDiv").outerHeight()-M("#leftPanel .codeNavigation").outerHeight()-2;M("#leftPanel .codeContainer").height(t+"px");var n=M("#mainDiv").outerHeight()-M("#rightPanel .codeNavigation").outerHeight()-2;M("#rightPanel .codeContainer").height(n+"px"),J.pagesStorage.forEach((function(e){var t;return"block"===M(e.editorContainer).css("display")&&(null===(t=e.monacoEditor)||void 0===t?void 0:t.layout())})),K.pagesStorage.forEach((function(e){var t;return"block"===M(e.editorContainer).css("display")&&(null===(t=e.monacoEditor)||void 0===t?void 0:t.layout())}))}function ee(){var e=0;this.checkName=function(t,n){for(var o=t||"module".concat(e++).concat(n),i=!0,a="File name";i;)null===(o=window.prompt(a,o))?i=!1:J.pagesStorage.has(o)?a='"'.concat(o,'" already exist. Choose another name.'):r.extname(o)!==n?a='"'.concat(o,'" has wrong extension "').concat(r.extname(o),'".'):i=!1;return o}}M(window).on("beforeunload",function(){var e=z(H().mark((function e(t){return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,Z();case 3:return e.abrupt("return",null);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),M(z(H().mark((function e(){var t,r;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0===localStorage.length?W():(o=void 0,o=localStorage.getItem("leftCollectionArray"),JSON.parse(o).forEach((function(e){var t=new Uint8Array(e.uint8.split(","));J.addPageFromArrayBuffer(t.buffer,e.filepath,e.readOnly,e.deleteBtn,e.rightSide)})),J.defaultPageName="platform.json",K.defaultPageName="CONSOLE",new S("CONSOLE").addTo(K,!0).appendText("$ ")),X(),M("#hc-version").text(I.version),M("#hc-github").attr("href","https://github.com/hetalang/heta-online/"),M("#hc-info").on("click",(function(){return M("#modalDiv").show()})),M("#hc-clean").on("click",(function(){if(window.confirm("You are about to reset the platform to the initial state and delete all progress. Are you sure?")){var e,t=R(J.pagesStorage.values());try{for(t.s();!(e=t.n()).done;){e.value.delete()}}catch(e){t.e(e)}finally{t.f()}var n,r=R(K.pagesStorage.values());try{for(r.s();!(n=r.n()).done;){n.value.delete()}}catch(e){r.e(e)}finally{r.f()}localStorage.clear(),W()}})),new C(function(){var e=z(H().mark((function e(t){var n,r,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=R(t),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return o=r.value,e.next=7,J.addPageFromFile(o);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()),t=new ee,M("#newButton").on("change",(function(e){var n=e.target.value;if(e.target.value="","loadFile"===n)M('<input type="file" accept=".yml,.yaml,.json,.xml,.heta,.txt,.csv,.xlsx,.xls,.sbml" multiple=true/>').on("change",function(){var e=z(H().mark((function e(t){var n,r,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=R(M(t.target)[0].files),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return o=r.value,e.next=7,J.addPageFromFile(o);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])})));return function(t){return e.apply(this,arguments)}}()).click();else{var r=Y[n],o=t.checkName(r.defaultName,r.extension);if(!o)return;new k(o,{value:r.defaultValue,language:r.language},!0,!1).addTo(J)}})),(r=new Worker(new URL(n.p+n.u(158),n.b))).onmessage=function(){var e=z(H().mark((function e(t){var n,r,o;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("editor"!==(n=t.data).action){e.next=5;break}return r=K.pagesStorage.get(n.editor),n.append?(o=r.monacoEditor.getValue(),r.monacoEditor.setValue(o+n.value)):r.monacoEditor.setValue(n.value),e.abrupt("return");case 5:if("console"!==n.action){e.next=8;break}return K.pagesStorage.get("CONSOLE").appendText(n.value),e.abrupt("return");case 8:if("finished"!==n.action&&"stop"!==n.action){e.next=11;break}return Object.getOwnPropertyNames(n.dict).forEach((function(e){K.addPageFromArrayBuffer(n.dict[e],e)})),e.abrupt("return");case 11:throw new Error("Unknown action in worker messages: ".concat(n.action));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M("#buildBtn").removeClass("w3-disabled"),M("#buildBtn").on("click",z(H().mark((function e(){var t,n,o,i,a,u,l,c,s,f,p;return H().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=R(K.pagesStorage);try{for(t.s();!(n=t.n()).done;)o=D(n.value,2),i=o[0],a=o[1],i!==K.defaultPageName&&a.delete()}catch(e){t.e(e)}finally{t.f()}u={},l=R(J.pagesStorage),e.prev=4,l.s();case 6:if((c=l.n()).done){e.next=13;break}return s=D(c.value,2),f=s[0],p=s[1],e.next=10,p.getArrayBuffer();case 10:u["/"+f]=e.sent;case 11:e.next=6;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(4),l.e(e.t0);case 18:return e.prev=18,l.f(),e.finish(18);case 21:r.postMessage({files:u});case 22:case"end":return e.stop()}}),e,null,[[4,15,18,21]])}))));case 13:case"end":return e.stop()}var o}),e)}))))}},o={};function i(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return r[e].call(n.exports,n,n.exports,i),n.exports}i.m=r,i.amdO={},e=[],i.O=(t,n,r,o)=>{if(!n){var a=1/0;for(s=0;s<e.length;s++){for(var[n,r,o]=e[s],u=!0,l=0;l<n.length;l++)(!1&o||a>=o)&&Object.keys(i.O).every((e=>i.O[e](n[l])))?n.splice(l--,1):(u=!1,o<a&&(a=o));if(u){e.splice(s--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var s=e.length;s>0&&e[s-1][2]>o;s--)e[s]=e[s-1];e[s]=[n,r,o]},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.f={},i.e=e=>Promise.all(Object.keys(i.f).reduce(((t,n)=>(i.f[n](e,t),t)),[])),i.u=e=>"js/"+e+"."+{56:"c0d97154a12cf3222bca",107:"484625295cc734b1b9df",158:"8797db2dae2f919febfe",275:"e00d13ed2cb09f055098",286:"4e134df193d9711f70d1",307:"081cf3ff7a672ed0d397",360:"614e792043cc0dff7c38",650:"b77195fa4bc8dd4c8789",781:"e14b84d6031531bac6e7",926:"46ca2f82fc09252b0001"}[e]+".js",i.miniCssF=e=>{},i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),t={},n="heta-online:",i.l=(e,r,o,a)=>{if(t[e])t[e].push(r);else{var u,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),s=0;s<c.length;s++){var f=c[s];if(f.getAttribute("src")==e||f.getAttribute("data-webpack")==n+o){u=f;break}}u||(l=!0,(u=document.createElement("script")).charset="utf-8",u.timeout=120,i.nc&&u.setAttribute("nonce",i.nc),u.setAttribute("data-webpack",n+o),u.src=e),t[e]=[r];var p=(n,r)=>{u.onerror=u.onload=null,clearTimeout(d);var o=t[e];if(delete t[e],u.parentNode&&u.parentNode.removeChild(u),o&&o.forEach((e=>e(r))),n)return n(r)},d=setTimeout(p.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=p.bind(null,u.onerror),u.onload=p.bind(null,u.onload),l&&document.head.appendChild(u)}},i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;i.g.importScripts&&(e=i.g.location+"");var t=i.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var r=n.length-1;r>-1&&!e;)e=n[r--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=e+"../"})(),(()=>{i.b=document.baseURI||self.location.href;var e={143:0};i.f.j=(t,n)=>{var r=i.o(e,t)?e[t]:void 0;if(0!==r)if(r)n.push(r[2]);else{var o=new Promise(((n,o)=>r=e[t]=[n,o]));n.push(r[2]=o);var a=i.p+i.u(t),u=new Error;i.l(a,(n=>{if(i.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=n&&("load"===n.type?"missing":n.type),a=n&&n.target&&n.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+a+")",u.name="ChunkLoadError",u.type=o,u.request=a,r[1](u)}}),"chunk-"+t,t)}},i.O.j=t=>0===e[t];var t=(t,n)=>{var r,o,[a,u,l]=n,c=0;if(a.some((t=>0!==e[t]))){for(r in u)i.o(u,r)&&(i.m[r]=u[r]);if(l)var s=l(i)}for(t&&t(n);c<a.length;c++)o=a[c],i.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return i.O(s)},n=self.webpackChunkheta_online=self.webpackChunkheta_online||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var a=i.O(void 0,[4,96],(()=>i(21886)));a=i.O(a)})();
//# sourceMappingURL=app.84776a362acfa9d5fbfb.js.map